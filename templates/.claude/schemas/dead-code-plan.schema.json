{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "https://example.com/schemas/dead-code-plan.schema.json",
  "title": "Dead Code Cleanup Plan Schema",
  "description": "Schema for dead code detection and removal workflow plan files",
  "allOf": [
    {
      "$ref": "./base-plan.schema.json"
    }
  ],
  "properties": {
    "workflow": {
      "const": "dead-code-cleanup"
    },
    "phase": {
      "enum": ["detection", "removal", "verification"]
    },
    "config": {
      "type": "object",
      "required": ["type"],
      "properties": {
        "type": {
          "type": "string",
          "enum": ["critical", "high", "medium", "low", "all"],
          "description": "Dead code type/priority to process"
        },
        "categories": {
          "type": "array",
          "description": "Specific dead code categories",
          "items": {
            "type": "string",
            "enum": ["unused-exports", "unused-imports", "unreachable-code", "commented-code", "debug-code"]
          }
        },
        "maxItemsPerRun": {
          "type": "integer",
          "description": "Maximum items to remove in single run",
          "minimum": 1,
          "default": 100
        },
        "safeMode": {
          "type": "boolean",
          "description": "Only remove high-confidence dead code",
          "default": true
        }
      }
    },
    "validation": {
      "type": "object",
      "properties": {
        "required": {
          "type": "array",
          "items": {
            "type": "string",
            "enum": ["report-exists", "type-check", "build", "validation-passed"]
          }
        },
        "optional": {
          "type": "array",
          "items": {
            "type": "string",
            "enum": ["tests", "lint", "bundle-size-reduced"]
          }
        }
      }
    },
    "nextAgent": {
      "enum": ["dead-code-hunter", "dead-code-remover"]
    }
  }
}
